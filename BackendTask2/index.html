<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends API - Simple Backend</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .route {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .method {
            background: #4CAF50;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .endpoint {
            font-family: monospace;
            font-size: 1.2em;
            color: #333;
            margin: 10px 0;
        }
        
        .code {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .try-btn {
            background: #FF6B35;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .try-btn:hover {
            background: #E55A2B;
        }
        
        .response {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }
        
        .json {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.8em;
            white-space: pre-wrap;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚òï Friends API Backend</h1>
        <p>Simple Node.js + Express service with two main routes</p>
    </div>

    <div class="route">
        <span class="method">GET</span>
        <div class="endpoint">/show-details</div>
        <p>Get main Friends show information from TVMaze API</p>
        
        <div class="code">// routes/show.js
app.get('/show-details', async (req, res) => {
  try {
    const response = await axios.get(
      'https://api.tvmaze.com/singlesearch/shows?q=friends'
    );
    res.json(response.data);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});</div>
        
        <button class="try-btn" onclick="tryShowDetails()">Try This Route</button>
        <div class="response" id="show-response">
            <div class="json" id="show-json"></div>
        </div>
    </div>

    <div class="route">
        <span class="method">GET</span>
        <div class="endpoint">/episodes</div>
        <p>Get all Friends episodes (all 236 episodes including "The One with the Thumb")</p>
        
        <div class="code">// routes/episodes.js
app.get('/episodes', async (req, res) => {
  try {
    const showResponse = await axios.get(
      'https://api.tvmaze.com/singlesearch/shows?q=friends'
    );
    const episodesResponse = await axios.get(
      `https://api.tvmaze.com/shows/${showResponse.data.id}/episodes`
    );
    res.json({
      total: episodesResponse.data.length,
      episodes: episodesResponse.data
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});</div>
        
        <button class="try-btn" onclick="tryEpisodes()">Try This Route</button>
        <div class="response" id="episodes-response">
            <div class="json" id="episodes-json"></div>
        </div>
    </div>

    <div class="route">
        <h3>üìÅ Simple Project Structure</h3>
        <div class="code">friends-api/
‚îú‚îÄ‚îÄ app.js          # Main Express app
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ show.js     # Show details route
‚îÇ   ‚îî‚îÄ‚îÄ episodes.js # Episodes route
‚îú‚îÄ‚îÄ package.json    # Dependencies
‚îî‚îÄ‚îÄ README.md</div>
    </div>

    <script>
        async function tryShowDetails() {
            const responseDiv = document.getElementById('show-response');
            const jsonDiv = document.getElementById('show-json');
            
            try {
                const response = await fetch('https://api.tvmaze.com/singlesearch/shows?q=friends');
                const data = await response.json();
                
                jsonDiv.textContent = JSON.stringify(data, null, 2);
                responseDiv.style.display = 'block';
            } catch (error) {
                jsonDiv.textContent = JSON.stringify({ error: error.message }, null, 2);
                responseDiv.style.display = 'block';
            }
        }

        async function tryEpisodes() {
            const responseDiv = document.getElementById('episodes-response');
            const jsonDiv = document.getElementById('episodes-json');
            
            try {
                const showResponse = await fetch('https://api.tvmaze.com/singlesearch/shows?q=friends');
                const showData = await showResponse.json();
                
                const episodesResponse = await fetch(`https://api.tvmaze.com/shows/${showData.id}/episodes`);
                const episodesData = await episodesResponse.json();
                
                const result = {
                    total: episodesData.length,
                    episodes: episodesData.slice(0, 5) // Show first 5 episodes as sample
                };
                
                jsonDiv.textContent = JSON.stringify(result, null, 2);
                responseDiv.style.display = 'block';
            } catch (error) {
                jsonDiv.textContent = JSON.stringify({ error: error.message }, null, 2);
                responseDiv.style.display = 'block';
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96b8081640383a3c',t:'MTc1NDU4Mjg5NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
